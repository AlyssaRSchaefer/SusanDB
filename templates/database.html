{% extends "header.html" %}

{% block title %}Database Page{% endblock %}

{% block content %}
    {% if name %}
        <center><p>Hello {{name}}</p></center>
        <p>{{file_id}}</p>
    {% endif %}
    <div class="database">
        <div class="database-controls">
            <div class="database-controls-left">
                <div class="search-container text">
                    <input class="text" type="text">
                    <img class="search-icon" src="static\icons\icon-search.png" alt="Search Icon">
                </div>
                <div class="button secondary-button">ADD FILTER</div>
            </div>
            <div class="database-controls-right">
                <div class="button secondary-button">DETAILS</div>
                <div class="button secondary-button">LAYOUT</div>
                <div class="button secondary-button">EDIT DATABASE</div>
                <div class="button primary-button">GENERATE REPORT</div>
            </div>
        </div>
        <div class="database-divider"></div>
        <table class="database-table">
            <thead>
                <tr class="database-head">
                    {% for field in field_order %}
                    <th>{{ field.replace('_', ' ').title() }}</th>  <!-- Format header names -->
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for student in students %}
                <tr>
                    {% for field in field_order %}
                    <td>{{ student[field] }}</td>  <!-- Access field dynamically -->
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}